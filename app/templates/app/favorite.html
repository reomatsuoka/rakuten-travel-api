{% extends 'app/base.html' %}

{% block content %}
<h1>お気に入りリスト</h1>
<div class="row travellist">
    {% for hotel in hotel_data %}
        {{ hotel_data.hotelno }}
        <div class="col-12 text-center font-weight-bold my-5">
            <h3>{{ hotel.hotelname }}</h3>
        </div>
        <div class="col-md-4 text-center travel-img">
            <img src="{{ hotel.image }}" alt="旅行施設の写真" class="img-responsive img-rounded">
        </div>
        <div class="col-md-5 text-center discription">
            <p>住所：{{ hotel.address }}{{ hotel.address2 }}</p>
            <p>{{ hotel.hotel_detail|linebreaksbr }}</p>
            <h5>料金：{{ hotel.minprice }}円〜</h5>
            <a class="link-color" href="{{ hotel.plan }}" target="_blank">
                <div class="mt-3">
                    <i class="mr-2">詳細サイトはこちらから</i>
                </div>
            </a>
            <a href="" class="btn btn-primary my-5">お気に入り</a>
            <a href="https://www.instagram.com/explore/tags/{{ hotel.hotelname }}" target="_blank">インスタへ</a>
        </div>

        <canvas class="col-md-3" id="myRaderChart{{hotel.hotelno}}" height="300"></canvas>
        <script>
            const ctx{{hotel.hotelno}} = document.getElementById("myRaderChart{{ hotel.hotelno }}");
            const myRadarChart{{hotel.hotelno}} = new Chart(ctx{{hotel.hotelno}}, {
                type: 'radar',
                data: {
                    labels: ["サービス", "部屋", "設備", "食事", "立地"],
                    datasets: [{
                        display: false,
                        data: [{{hotel.rating_service}}, {{hotel.rating_room}}, {{hotel.rating_equipment}}, {{hotel.rating_meal}}, {{hotel.rating_location}}],
                        backgroundColor: "rgb(130,220,170,0.9)",
                        borderColor: "rgb(255,100,0)",
                        borderWidth: 2,
                        pointRadius: 3,
                        pointBackgroundColor: 'RGB(255,50,0)'
                    }]
                },
                options: {
                    scale: {
                        ticks: {
                            suggestedMin: 0,
                            suggestedMax: 5,
                            stepSize: 1,
                            callback: function (value, index, values) {
                                return ""
                            }
                        },
                        pointLabels: {       // 軸のラベル（"Python"など）
                            fontSize: 18,         // 文字の大きさ
                            fontColor: "black",    // 文字の色
                        },
                        angleLines: {        // 軸（放射軸）
                            display: true,
                            color: "black"
                        },
                        gridLines: {         // 補助線（目盛の線）
                            color: "black"
                        }
                    },
                    legend: {
                        display: false,
                        position: 'top',  //タイトルの設定
                        labels: {
                            fontSize: 20,
                            fontColor: "black",
                            padding: 10
                        }
                    },
                    title: {
                        display: true,
                        text: "レビュー ：★{{ travel.review }}",
                        fontSize: 23,
                        fontColor: '#000',
                    },
                }
            });
        </script>
    {% empty %}
    <p>該当するものはありません</p>
    {% endfor %}
</div>


{% endblock %}
