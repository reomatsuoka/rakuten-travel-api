{% extends 'app/base.html' %}

{% block content %}

<div class="row">
    {% for travel in travel_data %}
        <div class="col-12 text-center font-weight-bold my-5">
            <h3>{{ hotelname }}</h3>
        </div>
        <div class="col-md-4 text-center">
            <img src="{{ image }}" alt="旅行施設の写真" class="img-fluid">
        </div>
        <div class="col-md-5 text-center discription">
            <p>住所：{{ address }}{{ address2 }}</p>
            <p>{{ hotel_detail }}</p>
            <h5>料金：{{ minprice }}円〜</h5>
            <a class="link-color" href="{{ plan }}" target="_blank">
                <div class="mt-3">
                    <i class="mr-2">詳細サイトはこちらから</i>
                </div>
            </a>
        </div>
        <canvas class="col-md-3" id="myRaderChart" height="50"></canvas>
        {% block extra_js %}
        {% endblock %}
    {% empty %}
    <p>該当するものはありません</p>
    {% endfor %}
</div>

<script>
    const ctx = document.getElementById("myRaderChart");
    const myRadarChart = new Chart(ctx, {
        type: 'radar',
        data: {
            labels: ["サービス", "部屋", "設備", "食事", "立地"],
            datasets: [{
                label: '比重',
                data: [rating_service, rating_room, rating_equipment, rating_meal, rating_location],
                backgroundColor: "rgba(255,100,0,0.8)",
                borderColor: "rgb(255,100,0)",
                borderWidth: 2,
                pointRadius: 3,
                pointBackgroundColor: 'RGB(255,50,0)'
            }]
        },
        options: {
            scale: {
                ticks: {
                    suggestedMin: 0,
                    suggestedMax: 5,
                    stepSize: 1,
                    callback: function (value, index, values) {
                        return ""
                    }
                },
                pointLabels: {       // 軸のラベル（"Python"など）
                    fontSize: 18,         // 文字の大きさ
                    fontColor: "black",    // 文字の色
                },
                angleLines: {        // 軸（放射軸）
                    display: true,
                    color: "black"
                },
                gridLines: {         // 補助線（目盛の線）
                    color: "black"
                }
            },
            legend: {
                position: 'top',  //タイトルの設定
                labels: {
                    fontSize: 20,
                    fontColor: "black",
                    padding: 10
                }
            },
        }
    });
</script>
{% endblock %}
